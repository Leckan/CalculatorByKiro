/* ========================================
   CALCULATOR CONTAINER
   Glass-morphism Effect
   Requirements: 8.1, 8.2, 8.3, 8.4, 8.5
   ======================================== */

.calculator {
    /* Glass-morphism effect - semi-transparent background with blur */
    background: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur)); /* Safari support */
    
    /* Rounded corners */
    border-radius: var(--radius-xl); /* 24px */
    
    /* Subtle border with semi-transparent white */
    border: 1px solid var(--glass-border);
    
    /* Soft shadow for elevation */
    box-shadow: var(--shadow-xl);
    
    /* Layout and spacing */
    max-width: 420px;
    width: 100%;
    padding: var(--space-6);
    
    /* Ensure content is positioned correctly */
    position: relative;
    
    /* Smooth transitions for any state changes */
    transition: border-color var(--duration-normal) var(--easing-standard),
                box-shadow var(--duration-normal) var(--easing-standard),
                transform var(--duration-normal) var(--easing-standard),
                opacity var(--duration-normal) var(--easing-standard);
    
    /* Performance optimization - Task 17: Requirements 2.5
       will-change for entrance animation */
    will-change: transform, opacity;
    
    /* Entrance animation - fadeInScale with 600ms duration and decelerate easing
       Requirements: 10.1, 10.3, 10.4, 10.5
       The calculator remains interactive during animation (no pointer-events blocking) */
    animation: fadeInScale var(--duration-entrance) var(--easing-decelerate);
}

/* ========================================
   BACKDROP-FILTER FALLBACKS
   Task 19: Requirements 8.1, 8.5
   
   Provides solid background fallback for browsers that don't support
   backdrop-filter (primarily older browsers and Firefox on Windows).
   
   Strategy:
   1. Default glass effect with backdrop-filter for modern browsers
   2. More opaque background for browsers without backdrop-filter support
   3. Ensures readability in all scenarios
   4. Maintains visual hierarchy and contrast
   ======================================== */

/* Fallback for browsers that don't support backdrop-filter */
@supports not (backdrop-filter: blur(10px)) {
    .calculator {
        /* Provide a more opaque, solid background for readability
           Uses a darker, more saturated background to ensure text contrast */
        background: rgba(15, 23, 42, 0.95);
        
        /* Enhance border visibility without backdrop blur */
        border: 1px solid rgba(255, 255, 255, 0.2);
        
        /* Slightly stronger shadow to compensate for lack of depth from blur */
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
    }
    
    /* Ensure display area remains readable */
    .display-area {
        background: rgba(0, 0, 0, 0.3);
    }
}

/* Additional fallback for -webkit-backdrop-filter (Safari) */
@supports not (-webkit-backdrop-filter: blur(10px)) and not (backdrop-filter: blur(10px)) {
    .calculator {
        /* Same fallback for browsers without any backdrop-filter support */
        background: rgba(15, 23, 42, 0.95);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
    }
    
    /* Ensure display area remains readable */
    .display-area {
        background: rgba(0, 0, 0, 0.3);
    }
}

/* Desktop viewport centering - handled in main.css body styles */
/* The calculator is already centered via flexbox on the body element */

/* Hover effect for subtle interactivity (optional enhancement) */
.calculator:hover {
    border-color: rgba(255, 255, 255, 0.15);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.35);
}
